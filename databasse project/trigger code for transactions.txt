CREATE SEQUENCE my_schema.TRANSACTIONS_SEQ
START WITH 1
INCREMENT BY 1;



CREATE OR REPLACE TRIGGER users_after_insert_trigger
AFTER INSERT ON my_schema.USERS
FOR EACH ROW
BEGIN
    INSERT INTO my_schema.TRANSACTIONS (
        TRANSACTION_ID,
        ENTITY_NAME,
        OPERATION_TYPE,
        REFERENCE_ID,
        OPERATION_DATE
    )
    VALUES (
        my_schema.TRANSACTIONS_SEQ.NEXTVAL,
        'USERS',
        'INSERT',
        :NEW.USER_ID,
        SYSTIMESTAMP
    );
END;
/
